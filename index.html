<!DOCTYPE html>
<html lang="id" class="scroll-smooth" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <!-- TECHNICAL SEO: Mobile First Indexing & Viewport Optimization -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- --- PRIMARY SEO: TRAFFIC MAGNET --- -->
    <title>PERAKIN | Pusat Investasi Perak Fisik, Dirham & Emas Indonesia</title>
    <meta name="title" content="PERAKIN | Pusat Investasi Perak Fisik, Dirham & Emas Indonesia">
    <meta name="description" content="Platform jual beli perak fisik, silver bar, dan dirham terpercaya #1 di Indonesia. Harga transparan, terima buyback tinggi, dan amanah. Solusi investasi safe haven anti inflasi 2026.">
    
    <!-- KEYWORDS STRATEGY -->
    <meta name="keywords" content="investasi perak indonesia, jual beli perak fisik, harga perak hari ini, dirham antam, perakin, keysilver, buyback perak terpercaya, safe haven asset, logam mulia perak, silver bar indonesia, tabungan emas dan perak, komoditas anti resesi, investasi 2026, harga silver bar 1kg">
    
    <!-- ROBOTS & CRAWLERS -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="revisit-after" content="3 days">
    <meta name="author" content="PERAKIN Official">
    <meta name="theme-color" content="#1A1A1A">

    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://perakin.id/">

    <!-- --- PERFORMANCE OPTIMIZATION --- -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">

    <!-- --- SOCIAL MEDIA VIRALITY (Open Graph) --- -->
    <meta property="og:locale" content="id_ID">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://perakin.id/">
    <meta property="og:site_name" content="PERAKIN Indonesia">
    <meta property="og:title" content="Investasi Perak Fisik & Dirham? Di PERAKIN Saja.">
    <meta property="og:description" content="Mulai investasi aset riil (Real Money) mulai dari Rp 50rb-an. Amanah, Transparan, dan Buyback Garansi. Cek harga hari ini!">
    <meta property="og:image" content="https://images.unsplash.com/photo-1624365166266-935f79357416?auto=format&fit=crop&q=80&w=1200">

    <!-- --- TWITTER CARD --- -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PERAKIN - Solusi Aset Safe Haven">
    <meta name="twitter:description" content="Jual beli perak fisik terpercaya. Siapkan masa depanmu dengan aset anti inflasi.">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1624365166266-935f79357416?auto=format&fit=crop&q=80&w=1200">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¥ˆ</text></svg>">

    <!-- --- GOOGLE STRUCTURED DATA (JSON-LD) --- -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://perakin.id/#organization",
          "name": "PERAKIN",
          "url": "https://perakin.id",
          "logo": {
            "@type": "ImageObject",
            "url": "https://perakin.id/logo.png" 
          },
          "sameAs": [
            "https://www.instagram.com/keysilver.id",
            "https://www.facebook.com/perakin"
          ],
          "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+6289512241234",
            "contactType": "customer service",
            "areaServed": "ID",
            "availableLanguage": ["Indonesian", "English"]
          }
        },
        {
          "@type": "FinancialService",
          "@id": "https://perakin.id/#store",
          "name": "PERAKIN Store",
          "image": "https://images.unsplash.com/photo-1624365166266-935f79357416",
          "priceRange": "Rp 50.000 - Rp 100.000.000",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Banda Aceh",
            "addressRegion": "Aceh",
            "addressCountry": "ID"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": 5.5483,
            "longitude": 95.3238
          },
          "openingHoursSpecification": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            "opens": "09:00",
            "closes": "21:00"
          }
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "Bagaimana cara membelinya?",
              "acceptedAnswer": { "@type": "Answer", "text": "Langkah mudah & Amanah: 1. Pilih produk di Katalog. 2. Klik tombol belanja untuk terhubung ke WhatsApp Admin Official. 3. Admin akan konfirmasi stok & total harga (incl. ongkir asuransi). 4. Transfer ke rekening resmi. 5. Produk dikirim dengan packing aman + asuransi." }
            },
            {
              "@type": "Question",
              "name": "Apakah fisik perak dikirim ke rumah?",
              "acceptedAnswer": { "@type": "Answer", "text": "Ya, 100% fisik. Kami menggunakan ekspedisi terpercaya (JNE/J&T/PAXEL) dengan asuransi penuh. Kehilangan ditanggung asuransi 100%." }
            },
            {
              "@type": "Question",
              "name": "Apakah ada sertifikatnya?",
              "acceptedAnswer": { "@type": "Answer", "text": "Tentu. Setiap produk batangan (bar) maupun koin dilengkapi dengan sertifikat kemurnian dari Keysilver atau produsen terkait (Antam/Lokal Premium)." }
            },
            {
              "@type": "Question",
              "name": "Kenapa harga Buyback ada selisih (spread)?",
              "acceptedAnswer": { "@type": "Answer", "text": "Spread adalah wajar dalam investasi fisik untuk biaya cetak & operasional. Disarankan investasi jangka menengah-panjang (1-3 tahun) agar profit maksimal." }
            },
            {
              "@type": "Question",
              "name": "Apakah bisa COD (Bayar di Tempat)?",
              "acceptedAnswer": { "@type": "Answer", "text": "Mohon maaf, saat ini kami belum melayani COD demi keamanan bersama. Namun, Anda sangat dipersilakan menghubungi Admin untuk berdiskusi, silaturahmi, dan mempererat persaudaraan. Kami siap melayani dengan sepenuh hati." }
            },
            {
              "@type": "Question",
              "name": "Berapa minimal pembelian?",
              "acceptedAnswer": { "@type": "Answer", "text": "Sangat terjangkau! Di Perakin, Anda bisa mulai menabung aset fisik dari 1 Gram. Kami ingin memastikan semua orang punya kesempatan memiliki 'Uang Asli'." }
            },
            {
              "@type": "Question",
              "name": "Bagaimana cara jual kembali (Buyback)?",
              "acceptedAnswer": { "@type": "Answer", "text": "Mudah & Transparan: 1. Cek estimasi harga di Kalkulator Buyback website. 2. Hubungi Admin via WhatsApp. 3. Kirim barang ke alamat kami. 4. Tim kami cek keaslian fisik. 5. Dana langsung cair ke rekening Anda." }
            }
          ]
        }
      ]
    }
    </script>

    <!-- Fonts & Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        silver: { 100: '#F3F4F6', 200: '#E5E7EB', 300: '#D1D5DB', 400: '#9CA3AF', 500: '#6B7280', 600: '#4B5563' },
                        onyx: { 800: '#1A1A1A', 900: '#0A0A0A' },
                        accent: { 500: '#10B981', 900: '#064E3B' }
                    },
                    animation: {
                        'shine': 'shine 1.5s infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'float-delayed': 'float 6s ease-in-out 3s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    },
                    keyframes: {
                        shine: { '0%': { transform: 'translateX(-100%)' }, '100%': { transform: 'translateX(100%)' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } }
                    }
                }
            }
        }
    </script>

    <style>
        /* UTILITIES */
        .glass-panel {
            background: rgba(255, 255, 255, 0.90);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(229, 231, 235, 0.5);
        }
        .silver-text-gradient {
            background: linear-gradient(to right, #4B5563, #9CA3AF, #374151);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* NEW PREMIUM BACKGROUND */
        .bg-silver-premium {
            background: linear-gradient(to bottom, #F3F4F6, #E5E7EB); /* Subtle silver gradient */
        }
        
        /* ANIMATIONS */
        .reveal { opacity: 0; transition: all 1s cubic-bezier(0.22, 1, 0.36, 1); will-change: opacity, transform; }
        .reveal.active { opacity: 1; transform: translate(0, 0) scale(1); }
        .reveal-up { transform: translateY(40px); }
        .reveal-left { transform: translateX(-40px); }
        .reveal-right { transform: translateX(40px); }
        .reveal-zoom { transform: scale(0.9); }
        .reveal-flip { transform: perspective(1000px) rotateX(20deg) translateY(30px); }

        /* NEW GACOR PREMIUM POP ANIMATION */
        @keyframes premiumPop {
            0% { opacity: 0; transform: translateY(40px) scale(0.8) rotateX(10deg); }
            60% { opacity: 1; transform: translateY(-10px) scale(1.02) rotateX(0deg); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .reveal-premium-pop {
            opacity: 0;
            will-change: opacity, transform;
        }
        .reveal-premium-pop.active {
             animation: premiumPop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        
        .delay-100 { transition-delay: 100ms; animation-delay: 100ms; }
        .delay-200 { transition-delay: 200ms; animation-delay: 200ms; }
        .delay-300 { transition-delay: 300ms; animation-delay: 300ms; }
        .delay-400 { transition-delay: 400ms; animation-delay: 400ms; }

        /* PATTERNS */
        .bg-premium-dots { background-image: radial-gradient(#CBD5E1 1.5px, transparent 1.5px); background-size: 24px 24px; }
        .bg-noise-subtle { background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E"); }

        /* CARD STYLING */
        .premium-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            transform: translateZ(0);
        }
        .premium-card:hover {
            transform: translateY(-8px);
            border-color: #cbd5e1;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
        }
        .premium-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.8), transparent);
            transform: skewX(-25deg);
            transition: 0.7s;
        }
        .premium-card:hover::after {
            left: 200%;
        }

        /* MOCKUP VISUALS */
        .mockup-silver {
            background: linear-gradient(135deg, #e2e8f0 0%, #f8fafc 50%, #cbd5e1 100%);
            box-shadow: inset 0 0 10px rgba(255,255,255,0.8), 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #94a3b8;
        }
        .mockup-gold {
            background: linear-gradient(135deg, #fcd34d 0%, #fbbf24 50%, #d97706 100%);
        }
        
        /* SKELETON LOADING */
        .skeleton { background: #e5e7eb; position: relative; overflow: hidden; }
        .skeleton::after {
            content: ""; position: absolute; top: 0; right: 0; bottom: 0; left: 0;
            transform: translateX(-100%);
            background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));
            animation: shine 2s infinite;
        }

        /* UTILS */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .accordion-content { transition: max-height 0.3s ease-out, padding 0.3s ease; max-height: 0; overflow: hidden; }
        .accordion-content.active { max-height: 500px; }
        
        /* MODAL */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px);
            z-index: 100; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-content { transform: scale(0.9); transition: transform 0.3s; }
        .modal-overlay.active .modal-content { transform: scale(1); }
        body.overflow-hidden { overflow: hidden; }

        /* SCROLL PADDING */
        html { scroll-padding-top: 100px; }
    </style>
</head>
<body class="bg-white text-onyx-800 antialiased relative overflow-x-hidden">

    <!-- NAVIGATION -->
    <nav class="fixed w-full z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-200" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 cursor-pointer flex flex-col justify-center" onclick="app.navigate('home')" role="button" tabindex="0">
                    <div class="flex items-center">
                        <span class="font-serif text-3xl font-bold tracking-tight text-onyx-900">PERAK</span>
                        <span class="font-serif text-3xl font-bold tracking-tight silver-text-gradient ml-0.5">IN</span>
                    </div>
                    <p class="text-[9px] tracking-[0.2em] uppercase text-gray-500 font-medium mt-[-2px]">By Keysilver.id â€¢ Aceh</p>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#market-insight" onclick="app.navigate('home', 'market-insight')" class="text-sm font-medium text-gray-600 hover:text-onyx-900 transition">Edukasi</a>
                    <a href="#recommendation" onclick="app.navigate('home', 'recommendation')" class="text-sm font-medium text-gray-600 hover:text-onyx-900 transition">Smart Finder</a>
                    <a href="#" onclick="app.navigate('products')" class="text-sm font-medium text-gray-600 hover:text-onyx-900 transition">Katalog</a>
                    <a href="#calculator" onclick="app.navigate('home', 'calculator')" class="text-sm font-medium text-gray-600 hover:text-onyx-900 transition">Kalkulator</a>
                    <a href="#faq" onclick="app.navigate('home', 'faq')" class="text-sm font-medium text-gray-600 hover:text-onyx-900 transition">FAQ</a>
                    <button onclick="app.sendWA('Halo PERAKIN, saya ingin konsultasi.')" class="bg-onyx-900 text-white px-6 py-2.5 rounded-sm text-sm font-medium hover:bg-gray-700 transition shadow-lg">WhatsApp</button>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-onyx-900 focus:outline-none p-2" aria-label="Menu">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-md border-t border-gray-100 absolute w-full shadow-2xl transition-all duration-300 z-40">
            <div class="px-4 pt-4 pb-8 space-y-3">
                <a href="#" onclick="app.navigate('home', 'market-insight'); app.toggleMobileMenu()" class="block py-3 px-4 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50">Market Insight</a>
                <a href="#" onclick="app.navigate('products'); app.toggleMobileMenu()" class="block py-3 px-4 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50">Katalog Produk</a>
                <a href="#" onclick="app.navigate('home', 'calculator'); app.toggleMobileMenu()" class="block py-3 px-4 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50">Kalkulator Buyback</a>
                <a href="#" onclick="app.navigate('home', 'faq'); app.toggleMobileMenu()" class="block py-3 px-4 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50">FAQ</a>
                <button onclick="app.sendWA('Halo, saya butuh bantuan.')" class="w-full mt-4 bg-onyx-900 text-white py-4 rounded-lg text-center font-bold shadow-lg">Chat WhatsApp</button>
            </div>
        </div>
    </nav>

    <!-- CONTENT CONTAINER -->
    <main id="main-content" class="pt-0 min-h-screen">
        <!-- JS Injected Views -->
    </main>

    <!-- FLOATING TO TOP -->
    <button id="scrollToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="Scroll top"
        class="fixed bottom-6 right-6 z-40 bg-onyx-900 text-white p-3 rounded-full shadow-2xl hover:bg-silver-600 transition-all duration-300 transform translate-y-20 opacity-0 active:scale-90">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>

    <!-- PRODUCT MODAL -->
    <div id="productModal" class="modal-overlay" onclick="app.closeModal()">
        <div class="modal-content bg-white w-full max-w-md mx-4 rounded-2xl shadow-2xl overflow-hidden relative" onclick="event.stopPropagation()">
            <button onclick="app.closeModal()" class="absolute top-4 right-4 bg-black/10 hover:bg-black/20 p-2 rounded-full transition z-10" aria-label="Close">
                <i data-lucide="x" class="w-5 h-5 text-gray-800"></i>
            </button>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-onyx-900 text-white pt-16 pb-8 border-t-4 border-silver-400">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <div class="reveal reveal-up">
                    <div class="flex items-center mb-4">
                        <span class="font-serif text-2xl font-bold text-white">PERAK</span>
                        <span class="font-serif text-2xl font-bold text-silver-400 ml-1">IN</span>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed mb-6">
                        Platform investasi perak fisik terpercaya dari Banda Aceh untuk Indonesia. Kolaborasi eksklusif bersama <strong>Keysilver.id</strong> menghadirkan aset berkualitas premium dan amanah.
                    </p>
                    <div class="flex space-x-4">
                        <i data-lucide="instagram" class="w-5 h-5 text-gray-400 hover:text-white cursor-pointer transition"></i>
                        <i data-lucide="facebook" class="w-5 h-5 text-gray-400 hover:text-white cursor-pointer transition"></i>
                        <i data-lucide="youtube" class="w-5 h-5 text-gray-400 hover:text-white cursor-pointer transition"></i>
                    </div>
                </div>
                <div class="reveal reveal-up delay-200">
                    <h3 class="text-silver-400 font-serif font-semibold mb-4 tracking-wide">Layanan</h3>
                    <ul class="space-y-3 text-sm text-gray-300">
                        <li><a href="#" onclick="app.navigate('products')" class="hover:text-white transition">Jual Beli Perak</a></li>
                        <li><a href="#calculator" onclick="app.navigate('home', 'calculator')" class="hover:text-white transition">Pusat Buyback</a></li>
                        <li><a href="#market-insight" onclick="app.navigate('home', 'market-insight')" class="hover:text-white transition">Edukasi</a></li>
                    </ul>
                </div>
                <div class="reveal reveal-up delay-400">
                    <h3 class="text-silver-400 font-serif font-semibold mb-4 tracking-wide">Kontak</h3>
                    <ul class="space-y-4 text-sm text-gray-300">
                        <li class="flex items-start gap-3" onclick="window.open('https://maps.google.com/?q=Banda+Aceh')">
                            <i data-lucide="map-pin" class="w-5 h-5 mt-0.5 text-accent-500"></i>
                            <span>Banda Aceh, Indonesia<br><span class="text-xs text-gray-500">Partner: Keysilver.id</span></span>
                        </li>
                        <li class="flex items-center gap-3" onclick="app.sendWA('Halo Admin')">
                            <i data-lucide="phone" class="w-5 h-5 text-accent-500"></i> <span>+62 895-1224-1234</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-center reveal reveal-up">
                <p class="text-xs text-gray-500">&copy; 2026 PERAKIN x KEYSILVER.</p>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- CONFIG ---
        const CONTACT = { WA: "6289512241234" };
        
        // --- GANTI URL GOOGLE SHEETS INI DENGAN PUNYA ANDA (Publish to Web > CSV) ---
        const SHEETS = {
            PRODUCT: 'https://docs.google.com/spreadsheets/d/1wfyhqy1gopTPj6QoCayF1k-tVWdDVAUmCQNdKdMQJ7Y/gviz/tq?tqx=out:csv&sheet=PRODUCT_CATALOG',
            BUYBACK: 'https://docs.google.com/spreadsheets/d/1wfyhqy1gopTPj6QoCayF1k-tVWdDVAUmCQNdKdMQJ7Y/gviz/tq?tqx=out:csv&sheet=BUYBACK_RATES'
        };

        // --- MOCK DATA (Safety Net) ---
        const MOCK_PRODUCTS = [
            { jenis: 'Klasik', gramasi: '10', harga: '1650000', kemurnian: '999', status: 'READY', image: '', nama: 'Perak Klasik Bar 10g' },
            { jenis: 'Dirham', gramasi: '2.975', harga: '520000', kemurnian: '999', status: 'READY', image: '', nama: 'Dirham Perak Murni' },
            { jenis: 'Bullion', gramasi: '100', harga: '15800000', kemurnian: '999.5', status: 'PRE-ORDER', image: '', nama: 'Cast Bar 100g' }
        ];
        const MOCK_BUYBACK = [
            { jenis: 'Klasik', gramasi: '10', harga: '1550000' },
            { jenis: 'Dirham', gramasi: '2.975', harga: '490000' },
            { jenis: 'Bullion', gramasi: '100', harga: '15000000' }
        ];

        // --- STATE ---
        const state = {
            products: [],
            buybackRates: [],
            isLoading: true,
            currentView: 'home',
            lastUpdate: new Date().toLocaleDateString('id-ID', {day: 'numeric', month: 'long', year: 'numeric'}),
            productFilter: { category: 'All', sort: 'price_asc' },
            chartInstance: null
        };

        // --- CORE APP ---
        const app = {
            init: async () => {
                await app.fetchData();
                app.renderNavbar();
                app.navigate('home');
                lucide.createIcons();
                app.initScrollAnimations();
                app.initScrollToTop();
                app.initKeyboardListeners();
            },

            renderNavbar: () => {
                const btn = document.getElementById('mobile-menu-btn');
                if(btn) {
                    btn.addEventListener('click', app.toggleMobileMenu);
                }
            },

            // --- DATA FETCHING ---
            fetchData: async () => {
                try {
                    const [prodRes, buyRes] = await Promise.all([
                        fetch(SHEETS.PRODUCT).then(r => r.ok ? r.text() : Promise.reject('Network err')),
                        fetch(SHEETS.BUYBACK).then(r => r.ok ? r.text() : Promise.reject('Network err'))
                    ]);
                    
                    state.products = app.parseCSV(prodRes);
                    state.buybackRates = app.parseCSV(buyRes);
                    
                    if (!state.buybackRates || state.buybackRates.length === 0) state.buybackRates = MOCK_BUYBACK;
                    if(state.products.length === 0) throw new Error("Data Kosong");

                } catch (error) {
                    console.warn("Menggunakan Data Cadangan (Mock)", error);
                    state.products = MOCK_PRODUCTS;
                    if (!state.buybackRates || state.buybackRates.length === 0) state.buybackRates = MOCK_BUYBACK;
                } finally {
                    state.isLoading = false;
                }
            },

            // --- SECURITY: Sanitization ---
            escapeHtml: (unsafe) => {
                if (typeof unsafe !== 'string') return unsafe;
                return unsafe
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;")
                    .replace(/'/g, "&#039;");
            },

            parseCSV: (csvText) => {
                const rows = csvText.split(/\r?\n/).map(row => row.split(','));
                const headers = rows[0].map(h => h.replace(/"/g, '').trim().toLowerCase());
                
                return rows.slice(1).map(row => {
                    if(row.length < 2) return null; 
                    let obj = {};
                    row.forEach((val, index) => {
                        if(headers[index]) {
                            let cleanVal = val ? val.replace(/"/g, '').trim() : '';
                            let key = headers[index];
                            // Sanitize all input
                            let sanitizedVal = app.escapeHtml(cleanVal);

                            if(['jenis', 'nama', 'item', 'produk', 'type'].some(k => key.includes(k))) obj.jenis = sanitizedVal;
                            if(key.includes('gram')) obj.gramasi = sanitizedVal;
                            if(key.includes('harga')) obj.harga = sanitizedVal; 
                            if(key.includes('buyback')) obj.harga_buyback = sanitizedVal;
                            if(key.includes('kemurnian')) obj.kemurnian = sanitizedVal;
                            if(key.includes('status')) obj.status = sanitizedVal;
                            if(key.includes('image')) obj.image = cleanVal; // Keep URLs clean but un-encoded for src
                            if(key.includes('deskripsi') || key.includes('nama')) obj.nama = sanitizedVal;
                        }
                    });
                    return obj;
                }).filter(item => item && item.jenis && (item.harga || item.harga_buyback));
            },

            // --- NAVIGATION ---
            navigate: (viewName, anchorId = null) => {
                state.currentView = viewName;
                const main = document.getElementById('main-content');
                window.scrollTo(0, 0);

                if (viewName === 'home') {
                    main.innerHTML = app.views.home();
                    app.initHomeInteractions();
                    app.initChart();
                    app.triggerHeroAnimations(); 
                } else if (viewName === 'products') {
                    main.innerHTML = app.views.products();
                    app.renderProductGrid();
                }
                
                lucide.createIcons();
                app.refreshAnimations();
                
                if(anchorId) {
                    setTimeout(() => {
                        const el = document.getElementById(anchorId);
                        if(el) el.scrollIntoView({behavior: 'smooth'});
                    }, 100);
                }
            },

            toggleMobileMenu: () => {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            },

            // --- UX INTERACTIONS ---
            initScrollAnimations: () => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) entry.target.classList.add('active');
                        else entry.target.classList.remove('active');
                    });
                }, { threshold: 0.15, rootMargin: "0px 0px -50px 0px" });

                setTimeout(() => {
                    document.querySelectorAll('.reveal, .reveal-premium-pop').forEach(el => observer.observe(el));
                }, 100);
                app.observer = observer;
            },

            refreshAnimations: () => {
                if(app.observer) {
                    document.querySelectorAll('.reveal:not(.active), .reveal-premium-pop:not(.active)').forEach(el => app.observer.observe(el));
                }
            },

            initScrollToTop: () => {
                const btn = document.getElementById('scrollToTop');
                window.addEventListener('scroll', () => {
                    if (window.scrollY > window.innerHeight) {
                        btn.classList.remove('translate-y-20', 'opacity-0');
                        btn.classList.add('translate-y-0', 'opacity-100');
                    } else {
                        btn.classList.add('translate-y-20', 'opacity-0');
                        btn.classList.remove('translate-y-0', 'opacity-100');
                    }
                });
            },

            initKeyboardListeners: () => {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') app.closeModal();
                });
            },

            scrambleText: (element, finalWord) => {
                const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
                let iteration = 0;
                let interval = setInterval(() => {
                    element.innerText = finalWord.split("").map((letter, index) => {
                        if(index < iteration) return finalWord[index];
                        if(letter === ' ') return ' ';
                        return letters[Math.floor(Math.random() * 26)];
                    }).join("");
                    if(iteration >= finalWord.length) clearInterval(interval);
                    iteration += 1/3;
                }, 30);
            },
            
            triggerHeroAnimations: () => {
                const title1 = document.getElementById('hero-title-1');
                const title2 = document.getElementById('hero-title-2');
                if(title1) { title1.classList.add('reveal', 'reveal-left'); setTimeout(() => title1.classList.add('active'), 100); }
                if(title2) setTimeout(() => app.scrambleText(title2, "Masa Depan"), 500);
            },

            toggleAccordion: (id) => {
                document.querySelectorAll('.accordion-content').forEach(c => {
                   if(c.id !== `faq-${id}`) { c.classList.remove('active'); c.style.paddingTop='0'; c.style.paddingBottom='0'; }
                });
                document.querySelectorAll('i[id^="icon-"]').forEach(i => {
                   if(i.id !== `icon-${id}`) i.style.transform = 'rotate(0deg)';
                });

                const content = document.getElementById(`faq-${id}`);
                const icon = document.getElementById(`icon-${id}`);
                content.classList.toggle('active');
                if(content.classList.contains('active')) {
                    content.style.paddingTop = '1rem'; content.style.paddingBottom = '1rem'; icon.style.transform = 'rotate(180deg)';
                } else {
                    content.style.paddingTop = '0'; content.style.paddingBottom = '0'; icon.style.transform = 'rotate(0deg)';
                }
            },

            // --- MODAL & LOGIC ---
            openModal: (idx) => {
                const p = state.products[idx];
                const modal = document.getElementById('productModal');
                const body = document.getElementById('modalBody');
                const price = parseInt(p.harga).toLocaleString('id-ID');
                
                document.body.classList.add('overflow-hidden');
                
                // Smart CSS Mockup Logic
                let visualContent;
                let isRound = /dirham|koin|coin/i.test(p.jenis);
                let shapeClass = isRound ? 'w-32 h-32 rounded-full' : 'w-32 h-48 rounded-lg';
                let shapeGradient = isRound ? 'mockup-gold' : 'mockup-silver';
                
                // If image exists, use it. Else use CSS Mockup
                if (p.image && p.image.length > 10) {
                    visualContent = `<img src="${p.image}" loading="lazy" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">`;
                    // Fallback hidden
                    visualContent += `<div class="absolute inset-0 bg-gray-100 hidden flex-col items-center justify-center"><div class="${shapeClass} ${shapeGradient} flex items-center justify-center shadow-lg mb-2"><span class="font-bold text-gray-600 text-xl">${p.gramasi}g</span></div></div>`;
                } else {
                    visualContent = `
                    <div class="absolute inset-0 bg-gray-100 flex flex-col items-center justify-center">
                        <div class="${shapeClass} ${shapeGradient} flex items-center justify-center shadow-lg mb-2 border border-gray-300/50 relative overflow-hidden">
                             <div class="absolute inset-0 bg-white/20 rotate-45 transform origin-top-left"></div>
                             <div class="text-center z-10">
                                <span class="block font-bold text-gray-700 text-2xl drop-shadow-sm">${p.gramasi}g</span>
                                <span class="block text-[10px] text-gray-500 uppercase tracking-widest mt-1">PERAKIN</span>
                             </div>
                        </div>
                    </div>`;
                }

                body.innerHTML = `
                    <div class="relative">
                        <div class="h-64 w-full bg-gray-200 relative">
                            ${visualContent}
                        </div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h2 class="text-2xl font-bold font-serif text-onyx-900">${p.jenis}</h2>
                                    <p class="text-gray-500 font-medium">${p.gramasi} Gram &bull; ${p.kemurnian}</p>
                                </div>
                                <span class="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs font-bold">${p.status || 'READY'}</span>
                            </div>
                            <div class="my-6 p-4 bg-gray-50 rounded-xl border border-gray-100">
                                <p class="text-xs text-gray-500 uppercase tracking-widest mb-1">Harga Hari Ini</p>
                                <p class="text-3xl font-bold text-onyx-900">Rp ${price}</p>
                                <div class="mt-2 text-xs text-gray-500 flex items-center gap-1">
                                    <i data-lucide="check-circle" class="w-3 h-3 text-emerald-500"></i> Termasuk Sertifikat
                                    <i data-lucide="check-circle" class="w-3 h-3 text-emerald-500 ml-2"></i> Garansi Buyback
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm mb-6 leading-relaxed">
                                Investasi cerdas dengan ${p.jenis} ${p.gramasi}g. Produk fisik berkualitas tinggi. Hubungi kami untuk ketersediaan stok terkini.
                            </p>
                            <button onclick="app.sendWA('Halo, saya ingin memesan ${p.jenis} ${p.gramasi}g seharga Rp ${price}. Apakah stok masih ada?')" 
                                class="w-full bg-onyx-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition flex items-center justify-center gap-2 shadow-lg shadow-onyx-900/20 active:scale-95">
                                <i data-lucide="message-circle" class="w-5 h-5"></i> Pesan via WhatsApp
                            </button>
                        </div>
                    </div>
                `;
                lucide.createIcons();
                modal.classList.add('active');
            },

            closeModal: () => {
                document.getElementById('productModal').classList.remove('active');
                document.body.classList.remove('overflow-hidden');
            },

            // --- CHART ---
            initChart: () => {
                const ctx = document.getElementById('gsrChart');
                if(!ctx) return;
                if (state.chartInstance) state.chartInstance.destroy();

                state.chartInstance = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['2023', '2024', '2025', '2026 (Now)', '2027', '2028', '2029', '2030'],
                        datasets: [{
                            label: 'Gold Silver Ratio',
                            data: [82, 85, 80, 75, 65, 55, 45, 30],
                            borderColor: '#4B5563', backgroundColor: 'rgba(75, 85, 99, 0.1)',
                            borderWidth: 2, tension: 0.4, fill: true,
                            pointBackgroundColor: ['#10B981', '#10B981', '#10B981', '#EF4444', '#10B981', '#10B981', '#10B981', '#10B981'],
                            pointRadius: 5
                        }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: { y: { title: { display: true, text: 'Ratio (1 Emas : x Perak)' } } }
                    }
                });
            },

            // --- INTERACTION LOGIC ---
            initHomeInteractions: () => {
                const calcType = document.getElementById('calcType');
                const calcQty = document.getElementById('calcQty');
                const updateCalc = () => {
                    if(!calcType || !calcQty) return;
                    
                    // ROBUST CALCULATION: Clean non-numeric chars
                    const rawPrice = calcType.value;
                    const cleanPrice = rawPrice.replace(/[^0-9]/g, '');
                    const price = parseFloat(cleanPrice) || 0;
                    
                    const qty = parseInt(calcQty.value) || 0;
                    const total = price * qty;
                    
                    // Check for invalid total
                    if (isNaN(total)) {
                         document.getElementById('calcResult').innerText = 'Rp 0';
                    } else {
                         document.getElementById('calcResult').innerText = 'Rp ' + total.toLocaleString('id-ID');
                    }
                };
                if(calcType && calcQty) {
                    calcType.addEventListener('change', updateCalc);
                    calcQty.addEventListener('input', updateCalc);
                    updateCalc(); 
                }
                
                const budgetInput = document.getElementById('budgetInput');
                if(budgetInput) {
                    budgetInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') app.handleSmartRec(); });
                }
            },

            handleSmartRec: () => {
                const budget = parseFloat(document.getElementById('budgetInput').value);
                const container = document.getElementById('recResult');
                if(!budget) { alert("Masukkan nominal budget."); return; }

                container.classList.remove('hidden');
                const sorted = [...state.products].sort((a, b) => Math.abs(parseFloat(a.harga) - budget) - Math.abs(parseFloat(b.harga) - budget));
                const recs = sorted.slice(0, 3);
                const closest = recs[0];
                const diff = parseFloat(closest.harga) - budget;
                
                let headerHTML = diff > 0 
                    ? `<p class="text-sm text-orange-300 font-bold mb-1">Budget mendekati produk ini</p><p class="text-xs text-gray-400 mb-4">Kurang <span class="text-white font-bold">Rp ${diff.toLocaleString('id-ID')}</span> lagi:</p>` 
                    : `<p class="text-xs text-gray-400 mb-4 uppercase tracking-wider font-bold">Rekomendasi Terbaik</p>`;

                if(recs.length === 0) {
                    container.innerHTML = `<p class="text-sm text-gray-400 text-center">Data tidak tersedia.</p>`;
                } else {
                    container.innerHTML = `${headerHTML}<div class="space-y-4">${recs.map(p => {
                        // Fallback visual logic with Smart Shapes
                        let visualRec;
                        let isRound = /dirham|koin|coin/i.test(p.jenis);
                        let shapeClass = isRound ? 'w-14 h-14 rounded-full' : 'w-12 h-16 rounded-md';
                        let shapeGradient = isRound ? 'mockup-gold' : 'mockup-silver';
                        
                        if (p.image && p.image.length > 10) {
                            visualRec = `<div class="${shapeClass} bg-white/10 flex-shrink-0 bg-cover bg-center border border-white/10" style="background-image: url('${p.image}')"></div>`;
                        } else {
                            visualRec = `
                                <div class="${shapeClass} ${shapeGradient} flex-shrink-0 flex items-center justify-center border border-white/20 shadow-sm">
                                    <span class="text-[10px] font-bold text-gray-600">${p.gramasi}g</span>
                                </div>
                            `;
                        }

                        return `<div class="flex items-center gap-4 bg-white/5 p-4 rounded-xl border border-white/10 hover:bg-white/10 transition group cursor-pointer" onclick="app.sendWA('Saya tertarik rekomendasi: ${p.nama}')">
                            ${visualRec}
                            <div class="flex-1 min-w-0">
                                <h4 class="font-bold text-white text-sm truncate group-hover:text-accent-500 transition">${p.jenis}</h4>
                                <p class="text-[10px] text-gray-400 uppercase tracking-wide mt-0.5">${p.gramasi} Gram</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm font-bold text-emerald-400">Rp ${parseInt(p.harga).toLocaleString('id-ID')}</p>
                                <button class="text-[10px] bg-white text-onyx-900 px-3 py-1 rounded-full font-bold mt-1 hover:bg-gray-200 transition">Beli</button>
                            </div>
                        </div>`
                    }).join('')}</div><p class="text-[10px] text-gray-500 mt-4 text-center italic">Klik produk untuk konsultasi</p>`;
                    lucide.createIcons();
                }
            },

            consultBuyback: () => {
                const select = document.getElementById('calcType');
                const qty = document.getElementById('calcQty').value;
                const name = select.options[select.selectedIndex].getAttribute('data-name');
                const est = document.getElementById('calcResult').innerText;
                app.sendWA(`Halo Admin, saya ingin konsultasi buyback ${name} sebanyak ${qty} pcs. Estimasi web: ${est}.`);
            },

            // --- HELPER & RENDER ---
            filterByCategory: (cat) => {
                state.productFilter.category = cat;
                if(state.currentView === 'products') app.renderProductGrid();
            },
            handleSort: (val) => {
                state.productFilter.sort = val;
                app.renderProductGrid();
            },
            sendWA: (text) => {
                window.open(`https://wa.me/${CONTACT.WA}?text=${encodeURIComponent(text)}`, '_blank');
            },
            getIconForType: (type) => {
                const map = { 'Klasik': 'gem', 'Bullion': 'layers', 'Press': 'stamp', 'Dirham': 'coins', 'Argentum': 'circle-dollar-sign' };
                return map[type] || 'package';
            },
            
            // --- VIEWS ---
            views: {
                home: () => {
                    const feat = state.products[0] || {};
                    const price = parseInt(feat.harga || 0).toLocaleString('id-ID');
                    
                    return `
                    <section class="relative bg-onyx-900 text-white overflow-hidden pb-16 pt-32 md:pt-40 md:pb-20 text-center relative overflow-hidden flex items-center pb-32">
                        <div class="absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-gray-800 to-transparent opacity-20"></div>
                        <div class="absolute bottom-0 left-0 w-64 h-64 rounded-full bg-silver-500 blur-[100px] opacity-10"></div>
                        
                        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
                            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                                <div class="flex-1 text-center md:text-left w-full">
                                    <div class="inline-flex items-center gap-2 py-1.5 px-4 rounded-full bg-white/5 border border-white/10 mb-6 md:mb-8 backdrop-blur-sm">
                                        <span class="w-2 h-2 rounded-full bg-accent-500 animate-pulse"></span>
                                        <span class="text-silver-300 text-xs font-semibold tracking-widest uppercase">Perakin x Keysilver.id</span>
                                    </div>
                                    <h1 class="font-serif text-4xl sm:text-5xl md:text-7xl font-bold leading-normal mb-4 md:mb-6 min-h-[120px] md:min-h-auto pb-3">
                                        <span id="hero-title-1" class="text-white block opacity-0 pb-3">Investasi Perak Fisik</span>
                                        <span id="hero-title-2" class="silver-text-gradient italic block pb-3">Masa Depan</span>
                                    </h1>
                                    <p class="text-gray-400 text-base md:text-lg mb-8 md:mb-10 max-w-lg mx-auto md:mx-0 font-light reveal reveal-up delay-200">
                                        Amankan kekayaan dengan aset <em>Safe Haven</em>. Platform terpercaya dari <strong>Aceh</strong> untuk Indonesia.
                                    </p>
                                    <div class="hidden md:flex gap-4 reveal reveal-up delay-300">
                                        <button onclick="app.navigate('products')" class="px-8 py-4 bg-white text-onyx-900 font-bold rounded hover:bg-gray-100 transition shadow-lg">Beli Perak Sekarang</button>
                                        <button onclick="app.navigate('home', 'market-insight')" class="px-8 py-4 bg-transparent border border-gray-600 text-white font-medium rounded hover:border-white transition">Pelajari Market <i data-lucide="trending-up" class="w-4 h-4 ml-2 inline"></i></button>
                                    </div>
                                    
                                </div>
                                <!-- Live Price Card -->
                                <div class="flex-1 w-full md:w-auto reveal reveal-right delay-200">
                                    <div class="relative">
                                        <div class="absolute -inset-1 bg-gradient-to-r from-silver-400 to-gray-600 rounded-2xl blur opacity-30"></div>
                                        <div class="relative bg-onyx-800 p-6 md:p-8 rounded-2xl border border-gray-700">
                                            <div class="flex justify-between items-center mb-2">
                                                <p class="text-gray-400 text-xs font-bold uppercase tracking-widest">Harga Pasar</p>
                                                <div class="flex items-center gap-1 bg-emerald-500/10 px-2 py-1 rounded text-emerald-400 text-xs font-bold"><i data-lucide="arrow-up" class="w-3 h-3"></i></div>
                                            </div>
                                            <div class="flex justify-between items-center mb-6">
                                                <h3 class="font-serif text-3xl font-bold text-white mt-1">IDR ${price}</h3>
                                                <div class="bg-accent-500/10 p-3 rounded-full"><i data-lucide="bar-chart-2" class="text-accent-500 w-6 h-6"></i></div>
                                            </div>
                                            <div class="space-y-4">
                                                <div class="flex justify-between py-3 border-b border-gray-700"><span class="text-sm text-gray-400">Jenis</span><span class="text-sm font-medium text-white">${feat.jenis}</span></div>
                                                <div class="flex justify-between py-3 border-b border-gray-700"><span class="text-sm text-gray-400">Gramasi</span><span class="text-sm font-medium text-white">${feat.gramasi} Gram</span></div>
                                                <div class="flex justify-between py-3 border-b border-gray-700"><span class="text-sm text-gray-400">Status</span><span class="text-sm font-medium text-emerald-400">OPEN BUYBACK</span></div>
                                            </div>
                                            <div class="mt-6 pt-4 border-t border-gray-700 text-center flex justify-between items-center">
                                                <p class="text-[10px] text-gray-500">Realtime Data</p>
                                                <p class="text-[10px] text-gray-400 italic">Upd: ${state.lastUpdate}</p>
                                            </div>
                                            <!-- Trust Signals Moved Here -->
                                            <div class="mt-4 pt-4 flex flex-wrap justify-center md:justify-start gap-4 text-xs text-gray-400 border-t border-gray-700">
                                                <span class="flex items-center gap-1"><i data-lucide="shield-check" class="w-4 h-4 text-emerald-500"></i> Buyback Garansi</span>
                                                <span class="flex items-center gap-1"><i data-lucide="truck" class="w-4 h-4 text-emerald-500"></i> Kirim Asuransi</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a href="#market-insight" onclick="event.preventDefault(); document.getElementById('market-insight').scrollIntoView({behavior: 'smooth'});" class="absolute bottom-10 left-0 right-0 mx-auto w-fit md:hidden animate-bounce-slow opacity-70 cursor-pointer z-20 p-4"><i data-lucide="chevron-down" class="w-8 h-8 text-white"></i></a>
                    </section>
                    
                    <!-- Market Insight, Recommendation, Product Types, Calculator, FAQ sections follow standard layout (omitted for brevity in this specific view string but included in final code logic) -->
                    <section id="market-insight" class="bg-noise-subtle bg-premium-dots min-h-screen md:min-h-0 py-14 md:py-20 bg-gray-50 overflow-hidden flex flex-col justify-center relative">
                        <!-- Content Same as before -->
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10">
                             <div class="text-center mb-12 reveal reveal-up"><h2 class="font-serif text-3xl md:text-4xl font-bold text-onyx-900">Mengapa Perak?</h2></div>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                                <div class="space-y-8 reveal reveal-left">
                                    <div class="flex gap-4">
                                        <div class="bg-onyx-900 text-white w-12 h-12 flex items-center justify-center rounded-lg shadow-lg"><i data-lucide="shield-check" class="w-6 h-6"></i></div>
                                        <div>
                                            <h3 class="text-lg md:text-xl font-bold text-onyx-900 mb-2">Safe Haven Asset</h3>
                                            <p class="text-gray-600 leading-relaxed text-sm">
                                                Saat ekonomi global tidak menentu, mata uang fiat (kertas) cenderung mengalami inflasi. Logam mulia adalah jangkar kekayaan yang nilainya terjaga.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="flex gap-4">
                                        <div class="bg-silver-400 text-white w-12 h-12 flex items-center justify-center rounded-lg flex-shrink-0 shadow-lg">
                                            <i data-lucide="trending-up" class="w-6 h-6"></i>
                                        </div>
                                        <div>
                                            <h3 class="text-lg md:text-xl font-bold text-onyx-900 mb-2">Gold Silver Ratio (GSR)</h3>
                                            <p class="text-gray-600 leading-relaxed text-sm">
                                                GSR mengukur rasio harga emas terhadap perak. 
                                                <br><br>
                                                <strong>Logikanya:</strong> Saat Emas naik tinggi, orang beralih ke Perak. Saat GSR tinggi (80+), itu sinyal kuat perak <em>undervalued</em> dan berpotensi naik drastis mengejar rasio normal (40-50x).
                                            </p>
                                        </div>
                                    </div>
                                    <!-- Analogi Simpel Box -->
                                    <div class="mt-4 p-4 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl shadow-sm">
                                        <h4 class="font-bold text-onyx-900 text-sm mb-2 flex items-center gap-2">
                                            <i data-lucide="lightbulb" class="w-4 h-4 text-yellow-500"></i> 
                                            Analogi Simpel: "Diskon Besar"
                                        </h4>
                                        <p class="text-xs text-gray-600 leading-relaxed">
                                            Bayangkan 1 keping Emas bisa ditukar dengan 80+ keping Perak (GSR Tinggi). Padahal normalnya hanya butuh 40-60 keping.
                                            <br>
                                            Artinya? Perak saat ini seperti barang mewah yang sedang <strong>"Diskon 50%"</strong>. Saat rasio kembali normal, nilai perak Anda otomatis melonjak.
                                        </p>
                                    </div>
                                </div>
                                <div class="bg-white p-4 rounded-2xl shadow-xl reveal reveal-right"><canvas id="gsrChart"></canvas></div>
                             </div>
                        </div>
                    </section>
                    
                    <section id="recommendation" class="bg-noise-subtle py-14 bg-white border-t border-gray-100 flex flex-col justify-center">
                        <div class="max-w-3xl mx-auto px-4 w-full reveal reveal-up">
                            <div class="bg-onyx-900 rounded-2xl p-6 text-center text-white relative overflow-hidden shadow-2xl">
                                <h2 class="font-serif text-2xl font-bold mb-4 relative z-10">Smart Silver Finder</h2>
                                <div class="bg-white/10 p-2 rounded-xl relative z-10"><div class="flex gap-2"><input type="number" id="budgetInput" placeholder="Budget (Rp)" class="w-full bg-transparent border-none text-white focus:ring-0 px-4 py-2 text-center"><button onclick="app.handleSmartRec()" class="w-full bg-white text-onyx-900 px-6 rounded-lg font-bold">Cari</button></div></div>
                                <div id="recResult" class="mt-8 hidden text-left relative z-10 bg-onyx-800/80 backdrop-blur-xl rounded-2xl p-6"></div>
                            </div>
                        </div>
                    </section>

                    <section class="bg-premium-dots py-14 bg-silver-premium flex flex-col justify-center">
                         <div class="max-w-7xl mx-auto px-4 w-full">
                            <div class="flex justify-between items-end mb-8 reveal reveal-up">
                                <div><h2 class="font-serif text-2xl font-bold text-onyx-900">Jenis Perak</h2></div>
                                <button onclick="app.navigate('products')" class="hidden md:flex font-bold border-b-2 border-onyx-900">Lihat Semua</button>
                            </div>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-8">${app.renderTypeCards()}</div>
                            <div class="mt-8 md:hidden text-center reveal reveal-up"><button onclick="app.navigate('products')" class="w-full bg-white border border-gray-300 py-3 rounded font-medium shadow-sm">Lihat Semua Produk</button></div>
                         </div>
                    </section>
                    
                    <section id="calculator" class="bg-noise-subtle py-14 bg-white flex flex-col justify-center">
                        <div class="max-w-7xl mx-auto px-4 w-full">
                            <div class="flex flex-col md:flex-row gap-8 items-center">
                                <div class="flex-1 bg-silver-100 p-6 rounded-2xl shadow-inner w-full reveal reveal-flip">
                                    <div class="space-y-5">
                                        <!-- Input Group 1 -->
                                        <div>
                                            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Pilih Item</label>
                                            <div class="relative">
                                                <select id="calcType" class="w-full p-4 border border-gray-300 rounded-lg bg-white focus:ring-onyx-900 focus:border-onyx-900 appearance-none">
                                                    <option value="" disabled selected>Pilih Jenis...</option>
                                                    ${state.buybackRates.map(r => `<option value="${r.harga_buyback || r.harga}" data-name="${r.jenis}">${r.jenis}</option>`).join('')}
                                                </select>
                                                <i data-lucide="chevron-down" class="absolute right-4 top-4 w-5 h-5 text-gray-400 pointer-events-none"></i>
                                            </div>
                                        </div>

                                        <!-- Input Group 2 -->
                                        <div>
                                            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Jumlah (Pcs)</label>
                                            <input type="number" id="calcQty" placeholder="Isikan jumlah per gram" class="w-full p-4 border border-gray-300 rounded-lg bg-white focus:ring-onyx-900 focus:border-onyx-900">
                                        </div>

                                        <!-- Result Box -->
                                        <div class="bg-onyx-900 text-white p-6 rounded-xl flex justify-between items-center shadow-lg">
                                            <div>
                                                <p class="text-xs text-gray-400 mb-1">Estimasi Buyback</p>
                                                <h3 id="calcResult" class="font-serif text-xl md:text-2xl font-bold text-white">Rp 0</h3>
                                            </div>
                                            <button onclick="app.consultBuyback()" class="bg-accent-500 hover:bg-accent-600 text-white p-3 rounded-full transition shadow-lg shadow-accent-500/30 active:scale-95 group">
                                                <i data-lucide="send" class="w-5 h-5 group-hover:-translate-y-0.5 group-hover:translate-x-0.5 transition-transform"></i>
                                            </button>
                                        </div>
                                        <p class="text-xs text-center text-gray-500 mt-2">Tekan tombol panah untuk jual via WhatsApp</p>
                                    </div>
                                </div>
                                <div class="flex-1 reveal reveal-right w-full">
                                    <h2 class="font-serif text-3xl font-bold mb-4 text-onyx-900">Jual Kembali Kapan Saja</h2>
                                    <p class="text-gray-600 mb-8 text-base md:text-lg">
                                        Kami menerima kembali perak yang Anda beli (Buyback) dengan harga transparan dan kompetitif mengikuti harga pasar harian. Proses mudah, aman, dan dana cair cepat.
                                    </p>
                                    <div class="space-y-4">
                                        <div class="flex items-center gap-4">
                                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-onyx-900 font-bold flex-shrink-0">1</div>
                                            <p class="text-gray-700 font-medium text-sm md:text-base">Cek harga di kalkulator</p>
                                        </div>
                                        <div class="flex items-center gap-4">
                                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-onyx-900 font-bold flex-shrink-0">2</div>
                                            <p class="text-gray-700 font-medium text-sm md:text-base">Hubungi Admin via WhatsApp</p>
                                        </div>
                                        <div class="flex items-center gap-4">
                                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-onyx-900 font-bold flex-shrink-0">3</div>
                                            <p class="text-gray-700 font-medium text-sm md:text-base">Kirim barang & Terima dana</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="faq" class="bg-premium-dots py-14 bg-gray-50 flex flex-col justify-center">
                        <div class="max-w-3xl mx-auto px-4 w-full reveal reveal-up">
                             <div class="text-center mb-10"><h2 class="font-serif text-2xl font-bold text-onyx-900">FAQ</h2></div>
                             <div class="space-y-3">
                                ${app.renderFAQItem(1, "Bagaimana cara membelinya?", "Langkah mudah & Amanah:<br>1. Pilih produk di Katalog.<br>2. Klik tombol belanja untuk terhubung ke WhatsApp Admin Official.<br>3. Admin akan konfirmasi stok & total harga (incl. ongkir asuransi).<br>4. Transfer ke rekening resmi.<br>5. Produk dikirim dengan packing aman + asuransi.")}
                                ${app.renderFAQItem(2, "Apakah fisik perak dikirim ke rumah?", "Ya, 100% fisik. Kami menggunakan ekspedisi terpercaya (JNE/J&T/PAXEL) dengan asuransi penuh. Kehilangan ditanggung asuransi 100%.")}
                                ${app.renderFAQItem(3, "Apakah ada sertifikatnya?", "Tentu. Setiap produk batangan (bar) maupun koin dilengkapi dengan sertifikat kemurnian dari Keysilver atau produsen terkait (Antam/Lokal Premium).")}
                                ${app.renderFAQItem(4, "Kenapa harga Buyback ada selisih (spread)?", "Spread adalah wajar dalam investasi fisik untuk biaya cetak & operasional. Disarankan investasi jangka menengah-panjang (1-3 tahun) agar profit maksimal.")}
                                ${app.renderFAQItem(5, "Apakah bisa COD (Bayar di Tempat)?", "Mohon maaf, saat ini kami belum melayani COD demi keamanan bersama. Namun, Anda sangat dipersilakan menghubungi Admin untuk berdiskusi, silaturahmi, dan mempererat persaudaraan. Kami siap melayani dengan sepenuh hati.")}
                                ${app.renderFAQItem(6, "Berapa minimal pembelian?", "Sangat terjangkau! Di Perakin, Anda bisa mulai menabung aset fisik dari 1 Gram. Kami ingin memastikan semua orang punya kesempatan memiliki 'Uang Asli'.")}
                                ${app.renderFAQItem(7, "Bagaimana cara jual kembali (Buyback)?", "Mudah & Transparan:<br>1. Cek estimasi harga di Kalkulator Buyback website.<br>2. Hubungi Admin via WhatsApp.<br>3. Kirim barang ke alamat kami.<br>4. Tim kami cek keaslian fisik.<br>5. Dana langsung cair ke rekening Anda.")}
                             </div>
                             <div class="mt-10 text-center p-6 bg-white rounded-2xl shadow-sm">
                                <button onclick="app.sendWA('Halo Admin, mau tanya-tanya.')" class="w-full md:w-auto px-8 py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-bold rounded-full shadow-lg">Hubungi via WhatsApp</button>
                             </div>
                        </div>
                    </section>`;
                },

                products: () => {
                    // Logic for renderProductGrid is handled by the separate function which injects into #productGrid
                    // This view just returns the container structure
                    return `
                    <section class="bg-onyx-900 text-white pt-32 pb-16 md:pt-40 md:pb-20 text-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-onyx-900 to-black opacity-50"></div>
                        <div class="max-w-4xl mx-auto px-4 relative z-10 reveal reveal-up">
                            <span class="text-silver-400 text-xs font-bold tracking-widest uppercase mb-2 block">Official Store</span>
                            <h1 class="font-serif text-3xl md:text-5xl font-bold mb-4">
                                Katalog <span class="text-white">PERAK</span><span class="text-silver-500">IN</span> 
                                <span class="text-gray-500 text-2xl md:text-3xl mx-2 md:mx-3 font-light align-middle">X</span> 
                                <span class="text-gray-400">KEYSILVER</span>
                            </h1>
                            <p class="text-gray-400 max-w-xl mx-auto text-sm md:text-base">Koleksi perak murni pilihan dengan desain eksklusif dan nilai investasi tinggi.</p>
                            <div class="flex flex-wrap justify-center gap-2 md:gap-3 mt-6">
                                <span class="bg-white/10 border border-white/20 px-3 py-1 rounded text-[10px] md:text-xs text-silver-300">Fine Silver 999.5 & 999.0</span>
                                <span class="bg-white/10 border border-white/20 px-3 py-1 rounded text-[10px] md:text-xs text-silver-300">Amanah dan Berkah</span>
                                <span class="bg-white/10 border border-white/20 px-3 py-1 rounded text-[10px] md:text-xs text-silver-300">Tersedia Buyback</span>
                                <span class="bg-white/10 border border-white/20 px-3 py-1 rounded text-[10px] md:text-xs text-silver-300">Fast Response</span>
                            </div>
                        </div>
                    </section>
                    <div class="sticky top-20 z-40 bg-white/95 backdrop-blur shadow-sm border-b border-gray-200 reveal reveal-up delay-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 md:py-4">
                             <div class="flex flex-col md:flex-row gap-3">
                                <div class="flex gap-2 overflow-x-auto no-scrollbar w-full md:w-auto pb-1" id="filterContainer"></div>
                                <div class="flex items-center gap-2 justify-end ml-auto">
                                    <span class="text-xs text-gray-500">Urutkan:</span>
                                    <select onchange="app.handleSort(this.value)" class="text-xs border-none bg-gray-100 rounded-full px-4 py-2 cursor-pointer">
                                        <option value="price_asc">Harga Terendah</option>
                                        <option value="price_desc">Harga Tertinggi</option>
                                        <option value="weight_asc">Gramasi Kecil</option>
                                        <option value="weight_desc">Gramasi Besar</option>
                                    </select>
                                </div>
                             </div>
                        </div>
                    </div>
                    <section class="py-8 md:py-12 bg-silver-premium min-h-screen">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <!-- SKELETON LOADER INJECTED HERE INITIALLY -->
                            <div id="productGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-8 mb-12">
                                ${Array(4).fill(0).map(() => `
                                    <div class="bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm h-80 animate-pulse">
                                        <div class="h-48 bg-gray-200 skeleton"></div>
                                        <div class="p-4 space-y-2">
                                            <div class="h-4 bg-gray-200 rounded w-3/4"></div>
                                            <div class="h-4 bg-gray-200 rounded w-1/2"></div>
                                            <div class="h-8 bg-gray-200 rounded w-full mt-4"></div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="text-center pb-12 reveal reveal-up"><button onclick="app.navigate('home')" class="inline-flex items-center gap-2 px-8 py-3 rounded-full border border-gray-300 text-gray-600 font-medium hover:bg-gray-100">Kembali ke Home</button></div>
                        </div>
                    </section>`;
                }
            },
            
            // --- RENDER FAQ ITEM ---
            renderFAQItem: (id, q, a) => {
                return `
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                    <button onclick="app.toggleAccordion(${id})" class="w-full flex justify-between items-center p-4 text-left font-medium text-onyx-900 hover:bg-gray-50 text-sm md:text-base">
                        <span>${q}</span>
                        <i id="icon-${id}" data-lucide="chevron-down" class="w-5 h-5 transition-transform duration-300 flex-shrink-0 ml-2"></i>
                    </button>
                    <div id="faq-${id}" class="accordion-content px-4 text-gray-600 text-xs md:text-sm">
                        ${a}
                    </div>
                </div>`;
            },

            renderTypeCards: () => {
                 const types = [...new Set(state.products.map(p => p.jenis))].slice(0, 6);
                 if(types.length === 0) types.push('Klasik', 'Dirham', 'Bullion'); 
                 return types.map((t, i) => {
                     let dName = t === 'Dirham' || t === '1 Dirham Coin' ? 'Dirham Coin' : t;
                     return `<div onclick="app.filterByCategory('${t}'); app.navigate('products')" class="group cursor-pointer premium-card rounded-2xl p-5 reveal-premium-pop delay-${(i+1)*100} h-full flex flex-col">
                        <div class="flex justify-between items-start mb-4 relative z-10">
                            <div class="p-2 bg-white border border-gray-100 rounded-xl text-gray-400 group-hover:bg-onyx-900 group-hover:text-white transition-colors shadow-sm"><i data-lucide="${app.getIconForType(t)}" class="w-5 h-5"></i></div>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gray-300 group-hover:text-onyx-900 transition"></i>
                        </div>
                        <div class="relative z-10 mt-auto"><h3 class="font-serif font-bold text-base text-onyx-900 group-hover:text-silver-600 transition">${dName}</h3><p class="text-[10px] text-gray-500 mt-2">Lihat Koleksi</p></div>
                     </div>`;
                 }).join('');
            },

            renderProductGrid: () => {
                const grid = document.getElementById('productGrid');
                const filterContainer = document.getElementById('filterContainer');
                const categories = ['All', ...new Set(state.products.map(p => p.jenis))];
                
                if(filterContainer) {
                    filterContainer.innerHTML = categories.map(cat => `<button onclick="app.filterByCategory('${cat}')" class="px-4 py-1.5 rounded-full text-xs font-bold transition whitespace-nowrap border ${state.productFilter.category === cat ? 'bg-onyx-900 text-white border-onyx-900' : 'bg-white text-gray-500 border-gray-200'}">${cat}</button>`).join('');
                }

                let displayData = state.products.filter(p => state.productFilter.category === 'All' || p.jenis === state.productFilter.category);
                const sortType = state.productFilter.sort;
                displayData.sort((a, b) => {
                    const pA = parseFloat(a.harga), pB = parseFloat(b.harga);
                    if(sortType === 'price_asc') return pA - pB;
                    if(sortType === 'price_desc') return pB - pA;
                    if (sortType === 'weight_asc') {
                        const wA = parseFloat(a.gramasi), wB = parseFloat(b.gramasi);
                        return wA - wB;
                    }
                    if (sortType === 'weight_desc') {
                        const wA = parseFloat(a.gramasi), wB = parseFloat(b.gramasi);
                        return wB - wA;
                    }
                    return 0;
                });

                if(grid) {
                    if(displayData.length === 0) {
                         grid.innerHTML = `<div class="col-span-full text-center py-20 text-gray-400">Produk tidak ditemukan.</div>`;
                    } else {
                        grid.innerHTML = displayData.map((p, index) => {
                            let badge = (p.status||'').toUpperCase() === 'READY' ? 'bg-emerald-100 text-emerald-800' : 'bg-orange-100 text-orange-800';
                            let img = p.image && p.image.length > 10 ? `<img src="${p.image}" loading="lazy" class="absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition duration-700" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">` : '';
                            
                            // --- SMART SHAPE MOCKUP ---
                            let visualRec;
                            let isRound = /dirham|koin|coin/i.test(p.jenis);
                            let shapeClass = isRound ? 'w-32 h-32 rounded-full' : 'w-32 h-48 rounded-lg';
                            let shapeGradient = isRound ? 'mockup-gold' : 'mockup-silver';
                            
                            let fallback;
                            
                            if (img) {
                                fallback = img; // Use real image if available
                            } else {
                                // Use CSS Shape Mockup
                                fallback = `
                                <div class="absolute inset-0 bg-gray-100 flex flex-col items-center justify-center">
                                    <div class="${shapeClass} ${shapeGradient} flex items-center justify-center shadow-lg mb-2 border border-gray-300/50 relative overflow-hidden">
                                         <div class="absolute inset-0 bg-white/20 rotate-45 transform origin-top-left"></div>
                                         <div class="text-center z-10">
                                            <span class="block font-bold text-gray-700 text-xl drop-shadow-sm">${p.gramasi}g</span>
                                            <span class="block text-[8px] text-gray-500 uppercase tracking-widest mt-1">PERAKIN</span>
                                         </div>
                                    </div>
                                </div>`;
                            }
                            
                            return `<div onclick="app.openModal(${state.products.indexOf(p)})" class="bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col group cursor-pointer hover:-translate-y-1 reveal-premium-pop delay-${(index%4)*100}">
                                <div class="relative pt-[100%] bg-gray-100 overflow-hidden">${fallback}<span class="absolute top-2 left-2 px-1.5 py-0.5 text-[8px] font-bold rounded ${badge} z-10">${p.status||'PRE-ORDER'}</span></div>
                                <div class="p-3 flex-1 flex flex-col">
                                    <div class="mb-2"><span class="text-[8px] text-gray-400 font-bold tracking-wider">${p.kemurnian}</span><h3 class="font-bold text-onyx-900 text-sm leading-snug mt-0.5 font-serif line-clamp-2">${p.jenis}</h3><p class="text-xs text-gray-500 mt-0.5">${p.gramasi} Gram</p></div>
                                    <div class="mt-auto pt-2 border-t border-gray-100 flex items-center justify-between"><div><p class="text-[8px] text-gray-400 uppercase">Harga</p><p class="font-bold text-silver-600 text-sm">Rp ${parseInt(p.harga).toLocaleString('id-ID')}</p></div><div class="w-8 h-8 rounded-full bg-gray-100 group-hover:bg-onyx-900 group-hover:text-white flex items-center justify-center transition"><i data-lucide="eye" class="w-3 h-3"></i></div></div>
                                </div>
                            </div>`;
                        }).join('');
                    }
                    lucide.createIcons();
                    app.refreshAnimations();
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => { app.init(); });
    </script>
</body>
</html>
